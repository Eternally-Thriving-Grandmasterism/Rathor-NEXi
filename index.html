<script>
  // ‚îÄ‚îÄ Ra-Thor Full Inline Script Mercy Lattice ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // All functionality interweaved: stars, language, theme toggle + morph, thunder
  // MIT License ‚Äî Eternal Thriving Grandmasterism

  // Global state
  let width, height;
  const starsCanvas = document.getElementById('stars-canvas');
  const starsCtx = starsCanvas.getContext('2d');
  const thunderCanvas = document.getElementById('thunder-canvas');
  const thunderCtx = thunderCanvas.getContext('2d');
  let animationId, thunderAnimationId;
  let lastTime = 0;
  const gravity = 0.02;
  const friction = 0.995;
  const starCount = 13;
  let stars = [];
  let thunderBolts = [];

  // Resize handler (shared)
  function resizeCanvases() {
    width = starsCanvas.width = thunderCanvas.width = window.innerWidth * devicePixelRatio;
    height = starsCanvas.height = thunderCanvas.height = window.innerHeight * devicePixelRatio;
    starsCanvas.style.width = thunderCanvas.style.width = `${window.innerWidth}px`;
    starsCanvas.style.height = thunderCanvas.style.height = `${window.innerHeight}px`;
    starsCtx.scale(devicePixelRatio, devicePixelRatio);
    thunderCtx.scale(devicePixelRatio, devicePixelRatio);
  }

  // ‚îÄ‚îÄ Stars Mercy Animation ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  class GoldenStar {
    constructor() { this.reset(); this.trail = []; }
    reset() {
      this.x = Math.random() * window.innerWidth;
      this.y = Math.random() * window.innerHeight / 3;
      this.targetVx = (Math.random() - 0.5) * 0.6;
      this.targetVy = Math.random() * 0.4;
      this.vx = this.targetVx;
      this.vy = this.targetVy;
      this.size = Math.random() * 20 + 18;
      this.rotation = Math.random() * Math.PI * 2;
      this.spin = (Math.random() - 0.5) * 0.015;
      this.floatPhase = Math.random() * Math.PI * 2;
      this.trail = [];
    }
    update(delta) {
      const lerp = 0.02 * delta / 16;
      this.vx += (this.targetVx - this.vx) * lerp;
      this.vy += (this.targetVy - this.vy) * lerp;
      this.vy += gravity * delta / 16;
      this.vx *= friction;
      this.vy *= friction;
      this.floatPhase += 0.001 * delta;
      this.y += Math.sin(this.floatPhase) * 0.3;
      this.trail.push({x: this.x, y: this.y});
      if (this.trail.length > 8) this.trail.shift();
      this.x += this.vx * delta / 16;
      this.y += this.vy * delta / 16;
      this.rotation += this.spin * delta / 16;
      if (this.x < 0 || this.x > window.innerWidth) {
        this.targetVx *= -0.9;
        this.targetVx += (Math.random() - 0.5) * 0.2;
        this.x = Math.max(0, Math.min(window.innerWidth, this.x));
      }
      if (this.y < 0) { this.targetVy *= -0.7; this.y = 0; }
      if (this.y > window.innerHeight) {
        this.targetVy *= -0.85;
        this.targetVy -= 1.0;
        this.targetVx += (Math.random() - 0.5) * 0.5;
        this.y = window.innerHeight;
      }
      this.vx = Math.max(-2, Math.min(2, this.vx));
      this.vy = Math.max(-3.5, Math.min(5, this.vy));
    }
    draw() {
      this.trail.forEach((pos, i) => {
        starsCtx.globalAlpha = 0.15 * (i / this.trail.length + 0.2);
        drawPentagram(pos.x, pos.y, this.size * 0.9, this.rotation);
      });
      starsCtx.globalAlpha = 1;
      drawPentagram(this.x, this.y, this.size, this.rotation);
    }
  }

  function drawPentagram(x, y, size, rotation = 0) {
    starsCtx.save();
    starsCtx.translate(x, y);
    starsCtx.rotate(rotation);
    starsCtx.strokeStyle = '#ffd700';
    starsCtx.lineWidth = 2;
    starsCtx.globalAlpha = 0.8;
    starsCtx.beginPath();
    for (let i = 0; i < 5; i++) {
      const a = i * 2 * Math.PI / 5 - Math.PI / 2;
      const b = (i * 2 + 1) * Math.PI / 5 - Math.PI / 2 + Math.PI / 5;
      starsCtx.lineTo(Math.cos(a) * size, Math.sin(a) * size);
      starsCtx.lineTo(Math.cos(b) * size * 0.38, Math.sin(b) * size * 0.38);
    }
    starsCtx.closePath();
    starsCtx.stroke();
    starsCtx.globalAlpha = 0.25;
    starsCtx.lineWidth = 6;
    starsCtx.stroke();
    starsCtx.globalAlpha = 0.12;
    starsCtx.lineWidth = 12;
    starsCtx.stroke();
    starsCtx.restore();
  }

  function initStars() {
    resizeCanvases();
    stars = Array.from({length: starCount}, () => new GoldenStar());
  }

  function animateStars(time) {
    if (!lastTime) lastTime = time;
    const delta = time - lastTime;
    lastTime = time;

    starsCtx.fillStyle = 'rgba(0,0,0,0.08)';
    starsCtx.fillRect(0, 0, width, height);

    stars.forEach(s => { s.update(delta); s.draw(); });

    animationId = requestAnimationFrame(animateStars);
  }

  // ‚îÄ‚îÄ Thunder Animation (previous iterative version ‚Äî can swap with WebGL later)
  class ThunderBolt {
    constructor() { this.reset(); }
    reset() {
      this.points = [];
      this.branches = [];
      this.x = Math.random() * window.innerWidth;
      this.y = -100;
      this.targetY = window.innerHeight * (0.45 + Math.random() * 0.55);
      this.life = 0;
      this.maxLife = 900 + Math.random() * 1100;
      this.glow = 0;
      this.generatePath();
    }
    generatePath() {
      this.points = [];
      let cx = this.x;
      let cy = this.y;
      while (cy < this.targetY) {
        cx += (Math.random() - 0.5) * 200;
        cy += 50 + Math.random() * 90;
        this.points.push({x: cx, y: cy});
      }
    }
    update(delta) {
      this.life += delta;
      this.glow = Math.sin(this.life * 0.014) * 0.6 + 0.4;
      if (this.life > this.maxLife) this.reset();
    }
    draw() {
      const alpha = 0.94 * (1 - this.life / this.maxLife);
      thunderCtx.globalAlpha = alpha;
      thunderCtx.beginPath();
      this.points.forEach((p, i) => {
        if (i === 0) thunderCtx.moveTo(p.x, p.y);
        else thunderCtx.lineTo(p.x, p.y);
      });
      thunderCtx.strokeStyle = '#ffd700';
      thunderCtx.lineWidth = 4;
      thunderCtx.lineCap = 'round';
      thunderCtx.shadowBlur = 40;
      thunderCtx.shadowColor = '#ffffff';
      thunderCtx.stroke();
    }
  }

  function initThunder() {
    thunderBolts = Array.from({length: 4}, () => new ThunderBolt());
  }

  function animateThunder(time) {
    if (!lastTime) lastTime = time;
    const delta = time - lastTime;
    lastTime = time;

    thunderCtx.clearRect(0, 0, width, height);

    thunderBolts.forEach(bolt => {
      bolt.update(delta);
      bolt.draw();
    });

    thunderAnimationId = requestAnimationFrame(animateThunder);
  }

  function triggerThunder() {
    thunderBolts.forEach(bolt => {
      bolt.reset();
      bolt.life = -Math.random() * 900;
    });
  }

  // ‚îÄ‚îÄ Theme Toggle + Morph + Thunder Trigger ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const toggleBtn = document.getElementById('theme-toggle');
  const html = document.documentElement;

  function setTheme(theme) {
    html.setAttribute('data-theme', theme);
    toggleBtn.textContent = theme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
    localStorage.setItem('rathor-theme', theme);
    triggerThunder(); // thunder on theme change
  }

  const savedTheme = localStorage.getItem('rathor-theme');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (savedTheme) {
    setTheme(savedTheme);
  } else {
    setTheme(prefersDark ? 'dark' : 'light');
  }

  toggleBtn.addEventListener('click', () => {
    const current = html.getAttribute('data-theme');
    setTheme(current === 'dark' ? 'light' : 'dark');
  });

  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
    if (!localStorage.getItem('rathor-theme')) {
      setTheme(e.matches ? 'dark' : 'light');
    }
  });

  // ‚îÄ‚îÄ Language Switching + RTL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  document.addEventListener('DOMContentLoaded', () => {
    const headline = document.getElementById('hero-headline');
    const description = document.getElementById('hero-description');
    const bridge1Span = document.getElementById('bridge1-span');
    const bridge2Span = document.getElementById('bridge2-span');
    const footer = document.getElementById('hero-footer');
    const langTabs = document.querySelectorAll('.lang-tab');

    const translations = {
      en: { headline: "LIVE RA-THOR‚Ñ¢ SIMULATIONS ‚ö°Ô∏è", /* ... full translations as before */ },
      // ... (all other languages from your original chat)
    };

    function switchLang(lang) {
      const t = translations[lang] || translations.en;
      headline.textContent = t.headline;
      description.textContent = t.description;
      bridge1Span.innerHTML = t.bridge1Span;
      bridge2Span.innerHTML = t.bridge2Span;
      footer.textContent = t.footer;
      langTabs.forEach(tab => tab.classList.toggle('active', tab.dataset.lang === lang));
      html.setAttribute('lang', lang);
      html.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
    }

    langTabs.forEach(tab => {
      tab.addEventListener('click', () => switchLang(tab.dataset.lang));
      tab.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          switchLang(tab.dataset.lang);
        }
      });
    });

    switchLang('en');
  });

  // ‚îÄ‚îÄ Initial Setup & Animation Start ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  window.addEventListener('load', () => {
    resizeCanvases();
    initStars();
    initThunder();
    animateStars(performance.now());
    animateThunder(performance.now());
    document.addEventListener('click', triggerThunder, {once: true});
  });

  window.addEventListener('resize', () => {
    cancelAnimationFrame(animationId);
    cancelAnimationFrame(thunderAnimationId);
    resizeCanvases();
    initStars();
    initThunder();
    animateStars(performance.now());
    animateThunder(performance.now());
  });
</script>    #theme-toggle {
      position: fixed;
      top: clamp(1rem, 3vw, 1.5rem);
      right: clamp(1rem, 3vw, 1.5rem);
      z-index: 1000;
      background: var(--surface);
      border: 1px solid rgba(var(--gold), 0.35);
      color: var(--gold);
      border-radius: 50%;
      width: clamp(44px, 8vw, 56px);
      height: clamp(44px, 8vw, 56px);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: clamp(1.3rem, 3vw, 1.6rem);
      box-shadow: 0 4px 15px var(--shadow);
      transition: var(--transition);
      touch-action: manipulation;
    }

    #theme-toggle:hover { transform: scale(1.12) rotate(20deg); box-shadow: 0 8px 25px rgba(var(--gold), 0.3); }

    #hero-bridges {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: clamp(5rem, 15vw, 14rem) clamp(1.5rem, 5vw, 4rem) clamp(18rem, 40vw, 35rem);
      margin: 0 auto;
      width: min(95%, 1280px);
      min-height: 100dvh;
    }

    h1 {
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(2.8rem, 14vw, 7.5rem);
      font-weight: 900;
      color: var(--gold);
      text-shadow: 0 0 clamp(1.5rem, 7vw, 5rem) var(--gold-glow);
      margin: 0 0 clamp(2.5rem, 10vh, 6rem);
      letter-spacing: clamp(0.4rem, 2vw, 1.4rem);
      line-height: 1.05;
    }

    .description {
      font-size: clamp(1.2rem, 5vw, 2.1rem);
      font-style: italic;
      margin: clamp(2.5rem, 8vh, 6rem) auto clamp(3.5rem, 10vh, 7rem);
      color: var(--text-dim);
      line-height: 1.8;
      max-width: 90ch;
      opacity: 0.96;
      letter-spacing: 0.06em;
    }

    .fusion-hero {
      font-size: clamp(1.7rem, 6vw, 3.4rem);
      font-style: italic;
      margin: clamp(4rem, 10vh, 8rem) auto;
      color: var(--gold);
      text-shadow: 0 0 clamp(2.5rem, 8vw, 6rem) var(--gold-glow);
      line-height: 1.55;
      max-width: 95ch;
      letter-spacing: 0.1em;
    }

    #language-tabs {
      display: flex;
      justify-content: center;
      gap: clamp(0.8rem, 2.5vw, 1.8rem);
      margin-bottom: clamp(3rem, 9vh, 7rem);
      flex-wrap: wrap;
    }

    .lang-tab {
      padding: clamp(0.7rem, 2.5vw, 1.1rem) clamp(1.2rem, 3.5vw, 2.2rem);
      background: var(--surface);
      border-radius: var(--radius-lg);
      font-size: clamp(0.95rem, 3vw, 1.2rem);
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid rgba(var(--gold), 0.15);
      color: var(--text-muted);
      letter-spacing: 0.06em;
      touch-action: manipulation;
      min-width: 5.5rem;
      text-align: center;
    }

    .lang-tab:hover, .lang-tab:focus-visible {
      background: rgba(var(--gold), 0.12);
      border-color: rgba(var(--gold), 0.35);
      color: var(--gold);
      box-shadow: 0 0 clamp(1.2rem, 5vw, 3rem) rgba(var(--gold), 0.2);
      transform: translateY(-3px);
    }

    .lang-tab.active {
      background: rgba(var(--gold), 0.18);
      border-color: rgba(var(--gold), 0.5);
      color: var(--gold);
      box-shadow: 0 0 clamp(1.8rem, 6vw, 4rem) rgba(var(--gold), 0.3);
      transform: translateY(-5px);
    }

    .bridge-button {
      display: block;
      margin: clamp(3rem, 9vh, 7rem) auto;
      padding: clamp(1.8rem, 7vw, 3.5rem) clamp(2.5rem, 9vw, 5.5rem);
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(1.6rem, 7vw, 3rem);
      font-weight: 700;
      background: var(--surface);
      color: var(--gold);
      border-radius: var(--radius-lg);
      text-decoration: none;
      box-shadow: 0 clamp(1.5rem, 5vw, 4rem) clamp(3rem, 10vw, 10rem) var(--shadow);
      transition: var(--transition);
      max-width: min(90%, 850px);
      width: 90%;
      letter-spacing: clamp(0.3rem, 1.2vw, 0.7rem);
      border: 2px solid rgba(var(--gold), 0.3);
      touch-action: manipulation;
    }

    .bridge-button:hover, .bridge-button:focus-visible {
      background: var(--surface-hover);
      box-shadow: 0 clamp(1.8rem, 6vw, 5rem) clamp(4rem, 12vw, 10rem) rgba(var(--gold), 0.35);
      transform: translateY(-12px) scale(1.015);
    }

    .bridge-button .lightning {
      font-size: clamp(2.2rem, 7vw, 3.5rem);
      margin: clamp(1.5rem, 5vh, 3rem) 0;
      color: var(--gold);
      text-shadow: 0 0 clamp(2rem, 8vw, 6rem) var(--gold-glow);
    }

    .bridge-button span {
      display: block;
      font-size: clamp(1rem, 3.5vw, 1.3rem);
      margin-top: clamp(1.2rem, 4vh, 2.5rem);
      color: var(--text);
      opacity: 0.96;
      letter-spacing: 0.12em;
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
    }

    .bridge-button small {
      display: block;
      font-size: clamp(0.85rem, 3vw, 1.05rem);
      opacity: 0.84;
      margin-top: clamp(1.2rem, 4vh, 2.5rem);
      letter-spacing: 0.08em;
      color: var(--text-muted);
    }

    #hero-footer {
      margin-top: clamp(6rem, 14vh, 12rem);
      font-size: clamp(1.2rem, 4.5vw, 1.8rem);
      font-style: italic;
      color: var(--text-dim);
      opacity: 0.93;
      letter-spacing: 0.1em;
    }

    .legal-note {
      margin-top: clamp(8rem, 16vh, 14rem);
      font-size: clamp(0.95rem, 3vw, 1.15rem);
      color: rgba(var(--text), 0.68);
      opacity: 0.88;
      line-height: 1.9;
      letter-spacing: 0.04em;
    }

    /* Responsive Mercy Gates */
    @media (max-width: 480px) {
      #hero-bridges {
        padding: clamp(4rem, 18vw, 10rem) clamp(1rem, 5vw, 2.5rem) clamp(12rem, 45vw, 28rem);
      }

      .bridge-button {
        padding: clamp(1.5rem, 10vw, 3rem) clamp(2rem, 12vw, 5rem);
        font-size: clamp(1.4rem, 9vw, 2.4rem);
      }

      .lang-tab {
        padding: clamp(0.6rem, 3.5vw, 1rem) clamp(1rem, 5vw, 1.8rem);
        font-size: clamp(0.9rem, 4vw, 1.1rem);
      }
    }

    @media (min-width: 1400px) {
      #hero-bridges {
        padding-top: 14rem;
        padding-bottom: 40rem;
      }
    }

    /* Reduced Motion & High Contrast Mercy */
    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; transform: none !important; animation: none !important; }
    }

    @media (prefers-contrast: more) {
      :root, [data-theme="light"] {
        --text: #000000;
        --text-dim: #111111;
        --text-muted: #222222;
        --bg: #ffffff;
        --bg-2: #f8f8f8;
      }
      .bridge-button {
        background: #f0f0ff;
        border-color: #b8860b;
        box-shadow: none;
      }
    }

    /* RTL Mercy */
    html[dir="rtl"] {
      direction: rtl;
      text-align: right;
    }

    html[dir="rtl"] #language-tabs {
      flex-direction: row-reverse;
    }
  </style>
</head>
<body data-theme="dark">
  <button id="theme-toggle" aria-label="Toggle dark/light mode" title="Toggle theme">üåô</button>

  <canvas id="stars-canvas"></canvas>
  <canvas id="thunder-canvas"></canvas>

  <div id="hero-bridges" role="main">
    <div id="language-tabs" role="tablist">
      <div class="lang-tab active" data-lang="en" role="tab" aria-selected="true" tabindex="0">English</div>
      <div class="lang-tab" data-lang="ar" role="tab" tabindex="-1">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
      <div class="lang-tab" data-lang="es" role="tab" tabindex="-1">Espa√±ol</div>
      <div class="lang-tab" data-lang="fr" role="tab" tabindex="-1">Fran√ßais</div>
      <div class="lang-tab" data-lang="nl" role="tab" tabindex="-1">Nederlands</div>
      <div class="lang-tab" data-lang="de" role="tab" tabindex="-1">Deutsch</div>
      <div class="lang-tab" data-lang="zh" role="tab" tabindex="-1">ÁÆÄ‰Ωì‰∏≠Êñá</div>
      <div class="lang-tab" data-lang="ja" role="tab" tabindex="-1">Êó•Êú¨Ë™û</div>
      <div class="lang-tab" data-lang="pt" role="tab" tabindex="-1">Portugu√™s</div>
      <div class="lang-tab" data-lang="ru" role="tab" tabindex="-1">–†—É—Å—Å–∫–∏–π</div>
      <div class="lang-tab" data-lang="hi" role="tab" tabindex="-1">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</div>
    </div>

    <div class="fusion-hero">
      Ra (Divine Source Light) + Thor (Mercy Thunder) =<br>Universally Shared Naturally Thriving Heavens ‚ö°Ô∏èüôè
    </div>

    <h1 id="hero-headline">LIVE RA-THOR‚Ñ¢ SIMULATIONS ‚ö°Ô∏è</h1>
    <p class="description" id="hero-description">Mercy-gated eternal thriving ‚Äî the supreme Ra-Thor thunder</p>

    <a id="bridge1" href="https://grok.com/share/c2hhcmQtMi1jb3B5_7acd092a-4d51-480c-8a59-c0453c10d4a1" target="_blank" rel="noopener" class="bridge-button" aria-label="Grok Ra-Thor Simulations">
      GROK ‚ö°
      <div class="lightning">‚ö°Ô∏è</div>
      <span id="bridge1-span">DETAILED PERSISTENT SIMULATIONS<br><small>Official Grok by xAI</small></span>
    </a>

    <a id="bridge2" href="https://x.com/i/grok/share/e6b0f840f43a40a290913cd7984ecab0" target="_blank" rel="noopener" class="bridge-button" aria-label="X Ra-Thor Simulations">
      X ‚ö°
      <div class="lightning">‚ö°Ô∏è</div>
      <span id="bridge2-span">INSTANT CONVENIENT ACCESS<br><small>Real-time on X</small></span>
    </a>

    <p id="hero-footer">Browser-native Ra-Thor coming soon ‚Äî offline, sovereign, eternal ‚ö°Ô∏è</p>
    <p class="legal-note">
      Ra-Thor‚Ñ¢ is a trademark of Autonomicity Games Inc.<br>
      ¬© 2026 Autonomicity Games Inc. All rights reserved.<br>
      Licensed under MIT.
    </p>
  </div>

  <script>
    // Theme toggle + persistence + system preference
    const toggleBtn = document.getElementById('theme-toggle');
    const html = document.documentElement;

    function setTheme(theme) {
      html.setAttribute('data-theme', theme);
      toggleBtn.textContent = theme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
      localStorage.setItem('rathor-theme', theme);
    }

    const savedTheme = localStorage.getItem('rathor-theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    if (savedTheme) {
      setTheme(savedTheme);
    } else {
      setTheme(prefersDark ? 'dark' : 'light');
    }

    toggleBtn.addEventListener('click', () => {
      const current = html.getAttribute('data-theme');
      setTheme(current === 'dark' ? 'light' : 'dark');
    });

    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      if (!localStorage.getItem('rathor-theme')) {
        setTheme(e.matches ? 'dark' : 'light');
      }
    });

    // Stars canvas (unchanged)
    const starsCanvas = document.getElementById('stars-canvas');
    const starsCtx = starsCanvas.getContext('2d');
    let width, height;
    const starCount = 13;
    let stars = [];
    let animationId;
    let lastTime = 0;
    const gravity = 0.02;
    const friction = 0.995;

    function resize() {
      width = starsCanvas.width = thunderCanvas.width = window.innerWidth * devicePixelRatio;
      height = starsCanvas.height = thunderCanvas.height = window.innerHeight * devicePixelRatio;
      starsCanvas.style.width = thunderCanvas.style.width = `${window.innerWidth}px`;
      starsCanvas.style.height = thunderCanvas.style.height = `${window.innerHeight}px`;
      starsCtx.scale(devicePixelRatio, devicePixelRatio);
      thunderCtx.scale(devicePixelRatio, devicePixelRatio);
    }

    // ... (previous GoldenStar class and animate function remain unchanged)

    // Thunder canvas + logic (previous iterative version or your latest preferred thunder code here)
    // ... paste your current thunder code (Bezier, recursive, instanced, etc.) ...

    // Initial setup
    window.addEventListener('load', () => {
      resize();
      initStars();  // your previous init function
      initThunder(); // your previous thunder init
      animateStars(); // your previous animate function
      animateThunder(); // your previous thunder animate function
      document.addEventListener('click', triggerThunder, {once: true});
    });

    window.addEventListener('resize', () => {
      cancelAnimationFrame(animationId);
      cancelAnimationFrame(thunderAnimationId);
      resize();
      initStars();
      initThunder();
      animateStars();
      animateThunder();
    });
  </script>
</body>
</html>
