<!-- ... existing head & body ... -->

<div id="lattice-progress-container">
  <div id="lattice-progress-text">Thunder gathers lattice & transformer...</div>
  <div id="lattice-progress-bar">
    <div id="lattice-progress-fill"></div>
  </div>
  <div id="lattice-progress-status">0% — Mercy gates initializing...</div>
  <div id="delta-status">Transformer loading...</div>
</div>

<script type="module">
  // ... existing imports ...
  import { offlineTransformer } from '/transformer-offline.js';

  async function loadCoreLattice() {
    const progressContainer = document.getElementById('lattice-progress-container');
    const progressFill = document.getElementById('lattice-progress-fill');
    const progressStatus = document.getElementById('lattice-progress-status');
    const deltaStatus = document.getElementById('delta-status');
    progressContainer.style.display = 'flex';

    // Lattice loading (existing)
    // ...

    // Transformer loading
    deltaStatus.textContent = 'Loading offline transformer...';
    await offlineTransformer.load();
    deltaStatus.textContent = offlineTransformer.loaded 
      ? 'Offline transformer ready – mercy empowered.'
      : 'Transformer fallback active.';

    // ... rest of loading logic ...
  }

  loadCoreLattice();

  // ... rest of script ...
</script>
